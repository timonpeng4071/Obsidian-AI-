
这是一个 Obsidian 插件，可以利用 AI 根据笔记内容或选中的文本自动生成标签和其他属性，并将这些属性添加到笔记的属性区 (Frontmatter) 中。

## 功能

- 根据笔记内容或选中的文本自动生成相关标签和属性
- 将生成的标签和属性添加到笔记的 Frontmatter 中
- 支持多种 AI 模型（OpenAI、Anthropic Claude、Azure OpenAI、Google AI、百度文心一言、讯飞星火、智谱 AI、Moonshot AI、Deepseek、OpenRouter、阿里通义千问等）
- 可配置生成标签的数量
- 支持手动触发和自动执行
- 自动清理标签中的标点符号
- 避免重复添加标签（当笔记已有5个或更多标签时）
- 支持暂停/恢复自动标签功能
- 支持保存和加载多个 API 配置
- 支持生成多种笔记属性（标签、标题、作者、日期、来源、网址、别名、摘要等）

## 手动安装

1. https://github.com/timonpeng4071/obsidian-ai-auto-tags下载最新的zip
2. 解压文件
3. 将解压后的文件夹复制到 Obsidian 插件目录（`.obsidian/plugins/`）
4. 重启 Obsidian
5. 在设置中启用插件

## 使用方法

### 手动触发

#### 生成标签

1. **右键菜单**：在编辑器中右键点击，选择"使用 AI 生成标签"
2. **命令面板**：使用命令面板（Ctrl+P）并搜索"AI 自动生成当前笔记标签"

#### 强制生成标签（忽略已有标签数量）

1. **右键菜单**：在编辑器中右键点击，选择"强制使用 AI 生成标签"
2. **命令面板**：使用命令面板（Ctrl+P）并搜索"AI 强制生成当前笔记标签"

#### 生成所有属性（标签、标题、作者等）

1. **右键菜单**：在编辑器中右键点击，选择"使用 AI 生成所有属性"
2. **命令面板**：使用命令面板（Ctrl+P）并搜索"AI 生成所有笔记属性"

如果有选中的文本，插件将根据选中的文本生成标签或属性；否则，将使用整个笔记内容。

### 自动执行

在插件设置中启用"自动执行"，并选择触发方式：

- **保存时**：在保存笔记时自动生成标签或属性
- **创建时**：在创建新笔记时自动生成标签或属性
- **修改后**：在修改笔记后自动生成标签或属性

### 暂停/恢复自动标签

如果您暂时不需要自动生成标签，可以使用以下方法暂停自动标签功能：

1. **命令面板**：使用命令面板（Ctrl+P）并搜索"暂停/恢复 AI 自动标签"
2. **设置选项卡**：在插件设置中点击"暂停自动标签"按钮

### 保存和加载 API 配置

您可以保存多个 API 配置，方便切换不同的 AI 服务和模型：

1. 在插件设置中配置 API 密钥、模型等参数
2. 点击"测试连接"按钮测试连接是否正常
3. 如果连接成功，点击"保存配置"按钮，输入配置名称
4. 保存后，您可以在"已保存的配置"列表中看到该配置
5. 点击"加载"按钮可以加载该配置
6. 点击"删除"按钮可以删除该配置

## 设置

### 基本设置

- **AI API 密钥**：输入您的 AI 服务 API 密钥
- **生成标签数量**：设置每次生成的标签数量（1-10）
- **AI 模型**：选择要使用的 AI 模型（OpenAI、Anthropic Claude、Azure OpenAI、Google AI、百度文心一言、讯飞星火、智谱 AI、Moonshot AI、Deepseek、OpenRouter、阿里通义千问等）

### API 设置

- **API 端点**：设置自定义 API 端点（可选，留空使用默认端点）
- **模型名称**：设置具体的模型名称（可选，留空使用默认模型）
- **API 版本**：设置 API 版本（可选，留空使用默认版本）
- **请求超时**：设置 API 请求超时时间（5-60 秒）

### 缓存设置

- **启用缓存**：启用/禁用缓存功能
- **缓存有效期**：设置缓存的有效期（15分钟、30分钟、1小时、2小时、1天）

### 属性设置

- **生成额外属性**：启用后，除了标签外，还会生成标题、作者、日期、来源、网址、别名和摘要等属性

### 自动执行设置

- **自动执行**：启用/禁用自动执行
- **自动执行触发方式**：选择自动执行的触发方式（保存时、创建时、修改后）
- **自动标签控制**：暂停/恢复自动标签功能

### 配置管理

- **测试 API 连接**：测试当前配置的 API 连接是否正常
- **保存配置**：保存当前 API 配置
- **已保存的配置**：管理已保存的 API 配置
